download.file("https://raw.githubusercontent.com/psychemedia/schoolofdatarelated/gh-pages/data/aidData_AUS_CH_JP_SE_201N.csv")
download.file("https://raw.githubusercontent.com/psychemedia/schoolofdatarelated/gh-pages/data/aidData_AUS_CH_JP_SE_201N.csv","aidData_AUS_CH_JP_SE_201N.csv")
aidData_AUS_CH_JP_SE_201N <- read.csv("~/Documents/ScoDa/introR/aidData_AUS_CH_JP_SE_201N.csv")
View(aidData_AUS_CH_JP_SE_201N)
aid <- read.csv("~/Documents/ScoDa/introR/aidData_AUS_CH_JP_SE_201N.csv")
View(aid)
head(aid,n=5)
str(aid)
summary(aid)
mean(aid$commitment_amount_usd_constant)
median(aid$commitment_amount_usd_constant)
arrange(aid,year)
install.packages("plyr")
arrange(aid,year)
library(plyr)
arrange(aid,year)
names(aid)
View(aid)
aid=arrange( aid, desc(commitment_amount_usd_constant) )
View(aid)
to_indonesia = subset( aid,
subset = (recipient=="Indonesia"),
select=c("donor","recipient","commitment_amount_usd_constant") )
View(to_indonesia)
japan_to_indonesia = subset( aid,
subset = (recipient=="Indonesia" & donor=="Japan"),
select=c("donor","recipient","commitment_amount_usd_constant") )
View(japan_to_indonesia)
View(japan_to_indonesia)
View(japan_to_indonesia)
View(japan_to_indonesia)
subset( aid,
subset = (commitment_amount_usd_constant >= 500000000),
select=c("donor","recipient","commitment_amount_usd_constant") )
subset( aid,
subset = (commitment_amount_usd_constant >= 100000000 & donor=='Switzerland'),
select=c("donor","recipient","commitment_amount_usd_constant") )
subset( aid,
subset = (commitment_amount_usd_constant >= 50000000 & donor=='Switzerland'),
select=c("donor","recipient","commitment_amount_usd_constant") )
subset( aid,
subset = (commitment_amount_usd_constant >= 10000000 & donor=='Switzerland'),
select=c("donor","recipient","commitment_amount_usd_constant") )
subset( aid,
subset = (commitment_amount_usd_constant >= 1000000 & donor=='Switzerland'),
select=c("donor","recipient","commitment_amount_usd_constant") )
subset( aid,
subset = (commitment_amount_usd_constant >= 1000000 & donor=='Sweden'),
select=c("donor","recipient","commitment_amount_usd_constant") )
subset( aid,
subset = (commitment_amount_usd_constant >= 10000000 & donor=='Sweden'),
select=c("donor","recipient","commitment_amount_usd_constant") )
subset( aid,
subset = (commitment_amount_usd_constant >= 50000000 & donor=='Sweden'),
select=c("donor","recipient","commitment_amount_usd_constant") )
levels(dont)
levels(donor)
levels(aid$donor)
?head
commitments=ddply( aid, .(donor), summarise, total=sum(commitment_amount_usd_constant) )
#Display the value of the variable
commitments
finercommitments=ddply( aid, .(donor, recipient), summarise,
total=sum(commitment_amount_usd_constant),
total=median(commitment_amount_usd_constant))
finercommitments
finercommitments=ddply( aid, .(donor, recipient), summarise,
total=sum(commitment_amount_usd_constant),
median=median(commitment_amount_usd_constant))
#Display the value of the variable
finercommitments
finercommitments=ddply( aid, .(donor, recipient), summarise,
total=sum(commitment_amount_usd_constant),
number=nrow(commitment_amount_usd_constant))
finercommitments=ddply( aid, .(donor, recipient), summarise,
total=sum(commitment_amount_usd_constant),
number=length(commitment_amount_usd_constant))
finercommitments
subset(finercommitments, subset=(recipient=='Yemen' | recipient=='Zambia' ))
?melt
library(reshape)
?melt
?cast
tmp=subset(finercommitments,
subset=(recipient=='Yemen' | recipient=='Zambia' ) )
tmp
cast(tmp,recipient~donor)
cast(tmp,recipient~donor,value=total)
tmp
cast(tmp,recipient~donor,value=total)
cast(tmp,recipient~donor,value='total')
cast(tmp,recipient~donor,value=c('total','number'))
cast(tmp,recipient~donor,value=c'total')
cast(tmp,recipient~donor,value='total')
?example
subset(aid,subset=recipient in c('Yemen','Zammbia','Zimbabwe'))
subset(aid,subset=recipient %in% c('Yemen','Zammbia','Zimbabwe'))
cast(subset(aid,subset=recipient %in% c('Yemen','Zammbia','Zimbabwe')), recipient~donor,fun.aggregate=sum,value=commitment_amount_usd_constant)
cast(subset(aid,subset=recipient %in% c('Yemen','Zammbia','Zimbabwe')), recipient~donor,fun.aggregate=sum,value='commitment_amount_usd_constant')
cast(subset(aid,subset=recipient %in% c('Yemen','Zambia','Zimbabwe')), recipient~donor,fun.aggregate=sum,value='commitment_amount_usd_constant')
cast(example.df, recipient~donor, value='total')
example.df=subset(finercommitments,
subset=(recipient=='Yemen' | recipient=='Zambia' ) )
cast(example.df, recipient~donor, value='total')
example.df = subset(aid,subset=recipient %in% c('Yemen','Zambia','Zimbabwe') )
example.wide =cast(example.df,
recipient~donor,
fun.aggregate=sum,
value='commitment_amount_usd_constant')
melt(example.wide,id=c("recipient"))
melt(example.wide,id=c("donor"))
melt(example.wide)
library(reshape2)
melt(example.wide)
melt(example.wide,
id.vars=c("recipient"),
measure.vars=c("Australia","Sweden"),
variable.name = "Donor Country",
value.name="Total Commitment") )
melt(example.wide,
id.vars=c("recipient"),
measure.vars=c("Australia","Sweden"),
variable.name = "Donor Country",
value.name="Total Commitment" )
install.packages("sp")
install.packages(c("knitr", "rjson"), lib="/Library/Frameworks/R.framework/Versions/3.1/Resources/library")
install.packages("reshape2")
?cast
library(reshape2)
?cast
example.df = subset(aid,subset=recipient %in% c('Yemen','Zambia','Zimbabwe') )
str(example.df)
library(WDI)
WDIsearch(string = "gdp", field = "name", short = TRUE,
cache = NULL)
WDIsearch(string = "gdp", field = "name", short = TRUE, cache = NULL)
WDIsearch(string='gdp', field='name', cache=NULL)
WDIsearch('gdp')
WDI(country="all", indicator=c("AG.AGR.TRAC.NO","TM.TAX.TCOM.BC.ZS"),
start=1990, end=2000)
WDI(country="all", indicator=c("AG.AGR.TRAC.NO","TM.TAX.TCOM.BC.ZS"),start=1990, end=2000)
WDI(country="all", indicator=c("AG.AGR.TRAC.NO","TM.TAX.TCOM.BC.ZS"),start=2010, end=2010)
WDI_data
WDI_data[2]
WDI_data[2]$country
names(WDI_data[2]$country)
str(WDI_data[2]$country)
WDI(country=c("SWE"), indicator=c("NY.GDP.PCAP.CD"),start=2010, end=2010)
WDI(country=c("SE"), indicator=c("NY.GDP.PCAP.CD"),start=2010, end=2010)
str(WDI_data[2]$country)
subset(WDI_data[2]$country,select=c("iso3c","iso2c","country" )
)
install.packages("WDI")
library(WDI)
?install.packages
head(subset(WDI_data[2]$country,select=c("iso3c","iso2c","country" )))
countryCodes= subset( WDI_data[2]$country, select=c("iso3c","iso2c","country"))
merge(example.df, countryCodes,by.x='donor',by.y='country')
example.df=subset(finercommitments,
subset=(recipient=='Yemen' | recipient=='Zambia' ) )
merge(example.df, countryCodes,by.x='donor',by.y='country')
library(ggplot2)
ggplot(to_indonesia) + geom_point(aes(x=donor,y=commitment_amount_usd_constant))
ggplot(finercommitments)+geom_point(aes(x=number,y=total,colour=donor))
g = ggplot(finercommitments)+geom_point(aes(x=number,y=total,colour=donor))
g +scale_y_log10()+scale_x_log10()
ggplot(example.df.raw) + geom_point(aes(x=donor,y=commitment_amount_usd_constant))
example.df.raw = subset(aid,subset=recipient %in% c('Yemen','Zambia','Zimbabwe') )
ggplot(example.df.raw) + geom_bar(aes(x=donor,y=commitment_amount_usd_constant))
ggplot(example.df.raw) + geom_bar(aes(x=donor,y=commitment_amount_usd_constant),stat='identity')
WDI(country=c('UK','MX','CN'), indicator=c("SP.POP.TOTL"),start=1950, end=2010)
